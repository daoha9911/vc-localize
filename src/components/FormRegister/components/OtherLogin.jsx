/*eslint-disable*/
import React from 'react';
import { notification } from 'antd';
import styles from '../index.less';
import { useGoogleLogin } from 'react-google-login';
import FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';
import { clientId, appId } from '@/constants';
import { connect } from 'dva';
const OtherLogin = ({ dispatch }) => {
  const onSuccess = (res) => {
    dispatch({
      type: 'login/loginWithGoogle',
      payload: {
        data: res,
      },
    });
  };

  const onFailure = () => {
    notification.error({
      message: 'Không thể đăng nhập, vui lòng thử lại.',
    });
  };

  const { signIn } = useGoogleLogin({
    onSuccess,
    onFailure,
    clientId,
    isSignedIn: true,
    accessType: 'offline',
  });
  const responseFacebook = (res) => {
    dispatch({
      type: 'login/loginWithFacebook',
      payload: {
        data: res,
        onSuccess: () => {
          dispatch({
            type: 'formregister/closeForm',
          });
        },
      },
    });
  };

  return (
    <>
      <div className={styles.flexCol}>
        <div>
          <span className={styles.registerActionsSpan} style={{ marginBottom: '13px' }}>
            Hoặc đăng nhập với
          </span>
        </div>
        <div className={`${styles.flexRowBetween} ${styles.customOtherLoginIcons}`}>
          <div onClick={signIn}>
            <a href="#">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="25"
                height="25"
                viewBox="0 0 25 25"
                fill="none"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M14.5949 16.3382C15.6384 15.6748 16.4375 14.6868 16.8675 13.524L11.788 13.5526L11.7668 9.79443L20.8915 9.74318C21.1344 10.9849 21.1274 12.2626 20.8708 13.5016C20.426 15.6434 19.2556 17.5661 17.5573 18.9448C17.5115 18.9821 17.4654 19.0189 17.4189 19.0553L14.5949 16.3382Z"
                  fill="#4788F4"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M14.5293 16.3792C14.5024 16.3958 14.4753 16.4122 14.448 16.4284L14.4471 16.4284C13.0139 17.2776 11.279 17.4509 9.70618 16.902C8.13335 16.3531 6.88301 15.1379 6.28947 13.5814C6.05421 12.9661 5.92506 12.299 5.92114 11.6017C5.91679 10.9773 6.01604 10.3566 6.21483 9.76464C6.76561 8.13479 8.02892 6.84464 9.64683 6.25971C11.2647 5.67478 13.061 5.85879 14.5267 6.75961L17.5905 4.22296C15.9375 2.86612 13.8192 2.05721 11.5145 2.07016C7.96397 2.08885 4.72033 4.0863 3.10554 7.24842C1.59547 10.2022 1.73593 13.7298 3.47608 16.5542C5.21623 19.3785 8.30388 21.0903 11.6212 21.0699C13.7176 21.0613 15.7498 20.3568 17.4 19.07L14.5293 16.3792Z"
                  fill="#DB6C62"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M14.5238 16.3824L17.311 19.1384C15.677 20.3817 13.68 21.0614 11.6211 21.0698C8.30378 21.0903 5.21613 19.3785 3.47598 16.5541C1.73584 13.7298 1.59537 10.2021 3.10545 7.24836C3.34681 6.77571 3.62457 6.32908 3.93431 5.91119L6.72182 8.66757C6.51593 9.0109 6.34531 9.3782 6.21473 9.76459C6.01594 10.3565 5.9167 10.9773 5.92104 11.6017C5.92496 12.299 6.05411 12.9661 6.28937 13.5813C6.88291 15.1379 8.13325 16.353 9.70609 16.902C11.2789 17.4509 13.0138 17.2775 14.447 16.4283L14.4479 16.4283C14.4734 16.4132 14.4987 16.3979 14.5238 16.3824Z"
                  fill="#FFCD42"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M17.4514 19.0297C15.792 20.3421 13.7394 21.0613 11.6212 21.0699C8.73987 21.0877 6.03184 19.7987 4.22952 17.6089L7.03293 14.9373C7.70041 15.8357 8.62743 16.5256 9.70615 16.9021C11.279 17.451 13.0139 17.2777 14.4471 16.4284C14.4976 16.3984 14.5477 16.3677 14.5972 16.3362L17.4514 19.0297Z"
                  fill="#159D5A"
                />
              </svg>
            </a>
          </div>

          <FacebookLogin
            appId={appId}
            autoLoad={false}
            fields="name,email,picture"
            onClick={() => {
              console.log('click');
            }}
            callback={responseFacebook}
            render={(renderProps) => (
              <div onClick={renderProps.onClick}>
                <a href="#">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="10"
                    height="20"
                    viewBox="0 0 10 20"
                    fill="none"
                  >
                    <path
                      d="M2.014 3.865V6.613H0V9.973H2.014V19.959H6.148V9.974H8.923C8.923 9.974 9.183 8.363 9.309 6.601H6.165V4.303C6.165 3.96 6.615 3.498 7.061 3.498H9.315V0H6.251C1.911 0 2.014 3.363 2.014 3.865Z"
                      fill="#3C5A99"
                    />
                  </svg>
                </a>
              </div>
            )}
          />

          <div>
            <a href="#">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="34"
                height="34"
                viewBox="0 0 34 34"
                fill="none"
              >
                <path
                  d="M6.30099 29.4158C6.16999 29.3547 6.07539 29.286 6.22821 29.1484C6.32282 29.072 6.4247 29.0033 6.52659 28.9345C7.47993 28.2851 8.37505 27.5746 8.96452 26.5279C9.45938 25.657 9.37933 25.1451 8.76075 24.5033C5.31126 20.882 3.79756 16.5501 4.55441 11.4313C4.98378 8.54338 6.24277 6.0451 8.07667 3.87535C9.18284 2.56127 10.5001 1.49931 11.941 0.613071C12.0283 0.559591 12.152 0.544311 12.1666 0.406791C12.1375 0.330391 12.0865 0.353311 12.0429 0.353311C9.59037 0.353311 7.13789 0.299831 4.69268 0.368591C2.34936 0.444991 0.326238 2.34735 0.333516 5.07482C0.34807 13.0433 0.333516 21.0118 0.333516 28.988C0.333516 31.4633 2.13103 33.5338 4.48164 33.6255C6.46837 33.7095 8.4551 33.6407 10.4491 33.6331C10.5947 33.6407 10.7402 33.6484 10.8858 33.6484H21.3943C24.0142 33.6484 26.6341 33.6637 29.2539 33.6484C31.6846 33.6484 33.6568 31.5856 33.6568 29.0415V28.9956V24.5262C33.6568 24.4193 33.6931 24.3047 33.6276 24.1901C33.4967 24.1977 33.4457 24.3123 33.3729 24.3887C31.9611 25.8785 30.2946 27.078 28.468 27.926C23.9924 29.9965 19.4367 30.1416 14.8156 28.4761C14.4153 28.3233 13.9787 28.308 13.5638 28.415C12.9525 28.5754 12.3485 28.7664 11.7445 28.9574C9.9688 29.5381 8.15673 29.7978 6.30099 29.4158ZM11.5771 16.5424C11.7008 16.3744 11.7663 16.275 11.8391 16.1757C12.7924 14.9075 13.7458 13.6393 14.6991 12.3634C14.9757 11.9967 15.2522 11.6223 15.4269 11.1792C15.6306 10.6749 15.4123 10.2013 14.9174 10.0179C14.6991 9.94914 14.4662 9.91858 14.2334 9.93386C12.938 9.92622 11.6353 9.92622 10.3399 9.93386C10.158 9.93386 9.97608 9.95678 9.80142 10.0026C9.39389 10.1096 9.14645 10.5451 9.24834 10.9805C9.32111 11.2709 9.53943 11.5001 9.81597 11.5688C9.99063 11.6147 10.1726 11.6376 10.3545 11.6299C11.1405 11.6376 11.9337 11.6299 12.7197 11.6376C12.807 11.6376 12.9161 11.5765 12.9816 11.714C12.9161 11.8057 12.8507 11.8973 12.7852 11.9814C11.6572 13.4788 10.5364 14.9839 9.40844 16.4813C9.1319 16.8557 8.98635 17.2682 9.19012 17.7266C9.39389 18.185 9.8087 18.2691 10.2308 18.2996C10.5655 18.3226 10.9076 18.3073 11.2496 18.3073C12.4286 18.3073 13.6002 18.3149 14.7792 18.2996C15.405 18.292 15.7398 17.8947 15.6743 17.2835C15.6233 16.8022 15.3104 16.5501 14.7282 16.5424C13.7021 16.5348 12.676 16.5424 11.5771 16.5424ZM24.4217 13.8379C24.4217 12.6384 24.429 11.4466 24.4217 10.2471C24.4217 9.6359 24.0506 9.2539 23.4975 9.26154C22.959 9.26918 22.6024 9.65118 22.5951 10.2395C22.5878 10.5985 22.5951 10.95 22.5951 11.3091V17.3828C22.5951 17.8565 22.8716 18.2691 23.2355 18.3684C23.7376 18.5136 24.2543 18.2003 24.3853 17.6732C24.4072 17.5815 24.4217 17.4898 24.4144 17.3905C24.429 16.2063 24.4217 15.0221 24.4217 13.8379Z"
                  fill="#0080C8"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </>
  );
};

export default connect()(OtherLogin);
